/*! blueprint 2017-07-15 */
!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){b.exports="object"==typeof self?self.FormData:window.FormData},{}],2:[function(a,b){var c="undefined"!=typeof JSON?JSON:a(3);b.exports=function(a,b){b||(b={}),"function"==typeof b&&(b={cmp:b});var f=b.space||"";"number"==typeof f&&(f=Array(f+1).join(" "));var g="boolean"==typeof b.cycles?b.cycles:!1,h=b.replacer||function(a,b){return b},i=b.cmp&&function(a){return function(b){return function(c,d){var e={key:c,value:b[c]},f={key:d,value:b[d]};return a(e,f)}}}(b.cmp),j=[];return function k(a,b,l,m){var n=f?"\n"+new Array(m+1).join(f):"",o=f?": ":":";if(l&&l.toJSON&&"function"==typeof l.toJSON&&(l=l.toJSON()),l=h.call(a,b,l),void 0!==l){if("object"!=typeof l||null===l)return c.stringify(l);if(d(l)){for(var p=[],q=0;q<l.length;q++){var r=k(l,q,l[q],m+1)||c.stringify(null);p.push(n+f+r)}return"["+p.join(",")+n+"]"}if(-1!==j.indexOf(l)){if(g)return c.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}j.push(l);for(var s=e(l).sort(i&&i(l)),p=[],q=0;q<s.length;q++){var b=s[q],t=k(l,b,l[b],m+1);if(t){var u=c.stringify(b)+o+t;p.push(n+f+u)}}return j.splice(j.indexOf(l),1),"{"+p.join(",")+n+"}"}}({"":a},"",a,0)};var d=Array.isArray||function(a){return"[object Array]"==={}.toString.call(a)},e=Object.keys||function(a){var b=Object.prototype.hasOwnProperty||function(){return!0},c=[];for(var d in a)b.call(a,d)&&c.push(d);return c}},{3:3}],3:[function(a,b,c){c.parse=a(4),c.stringify=a(5)},{4:4,5:5}],4:[function(a,b){var c,d,e,f,g={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"	"},h=function(a){throw{name:"SyntaxError",message:a,at:c,text:e}},i=function(a){return a&&a!==d&&h("Expected '"+a+"' instead of '"+d+"'"),d=e.charAt(c),c+=1,d},j=function(){var a,b="";for("-"===d&&(b="-",i("-"));d>="0"&&"9">=d;)b+=d,i();if("."===d)for(b+=".";i()&&d>="0"&&"9">=d;)b+=d;if("e"===d||"E"===d)for(b+=d,i(),("-"===d||"+"===d)&&(b+=d,i());d>="0"&&"9">=d;)b+=d,i();return a=+b,isFinite(a)?a:void h("Bad number")},k=function(){var a,b,c,e="";if('"'===d)for(;i();){if('"'===d)return i(),e;if("\\"===d)if(i(),"u"===d){for(c=0,b=0;4>b&&(a=parseInt(i(),16),isFinite(a));b+=1)c=16*c+a;e+=String.fromCharCode(c)}else{if("string"!=typeof g[d])break;e+=g[d]}else e+=d}h("Bad string")},l=function(){for(;d&&" ">=d;)i()},m=function(){switch(d){case"t":return i("t"),i("r"),i("u"),i("e"),!0;case"f":return i("f"),i("a"),i("l"),i("s"),i("e"),!1;case"n":return i("n"),i("u"),i("l"),i("l"),null}h("Unexpected '"+d+"'")},n=function(){var a=[];if("["===d){if(i("["),l(),"]"===d)return i("]"),a;for(;d;){if(a.push(f()),l(),"]"===d)return i("]"),a;i(","),l()}}h("Bad array")},o=function(){var a,b={};if("{"===d){if(i("{"),l(),"}"===d)return i("}"),b;for(;d;){if(a=k(),l(),i(":"),Object.hasOwnProperty.call(b,a)&&h('Duplicate key "'+a+'"'),b[a]=f(),l(),"}"===d)return i("}"),b;i(","),l()}}h("Bad object")};f=function(){switch(l(),d){case"{":return o();case"[":return n();case'"':return k();case"-":return j();default:return d>="0"&&"9">=d?j():m()}},b.exports=function(a,b){var g;return e=a,c=0,d=" ",g=f(),l(),d&&h("Syntax error"),"function"==typeof b?function i(a,c){var d,e,f=a[c];if(f&&"object"==typeof f)for(d in f)Object.prototype.hasOwnProperty.call(f,d)&&(e=i(f,d),void 0!==e?f[d]=e:delete f[d]);return b.call(a,c,f)}({"":g},""):g}},{}],5:[function(a,b){function c(a){return h.lastIndex=0,h.test(a)?'"'+a.replace(h,function(a){var b=i[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function d(a,b){var h,i,j,k,l,m=e,n=b[a];switch(n&&"object"==typeof n&&"function"==typeof n.toJSON&&(n=n.toJSON(a)),"function"==typeof g&&(n=g.call(b,a,n)),typeof n){case"string":return c(n);case"number":return isFinite(n)?String(n):"null";case"boolean":case"null":return String(n);case"object":if(!n)return"null";if(e+=f,l=[],"[object Array]"===Object.prototype.toString.apply(n)){for(k=n.length,h=0;k>h;h+=1)l[h]=d(h,n)||"null";return j=0===l.length?"[]":e?"[\n"+e+l.join(",\n"+e)+"\n"+m+"]":"["+l.join(",")+"]",e=m,j}if(g&&"object"==typeof g)for(k=g.length,h=0;k>h;h+=1)i=g[h],"string"==typeof i&&(j=d(i,n),j&&l.push(c(i)+(e?": ":":")+j));else for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(j=d(i,n),j&&l.push(c(i)+(e?": ":":")+j));return j=0===l.length?"{}":e?"{\n"+e+l.join(",\n"+e)+"\n"+m+"}":"{"+l.join(",")+"}",e=m,j}}var e,f,g,h=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};b.exports=function(a,b,c){var h;if(e="",f="","number"==typeof c)for(h=0;c>h;h+=1)f+=" ";else"string"==typeof c&&(f=c);if(g=b,b&&"function"!=typeof b&&("object"!=typeof b||"number"!=typeof b.length))throw new Error("JSON.stringify");return d("",{"":a})}},{}],6:[function(a,b){"use strict";var c=a(10),d=a(39),e=a(7),f=a(32),g=[],h=void 0,i=void 0,j=function(a,b){return-1!==a.indexOf(b,a.length-b.length)},k=!0;b.exports={post:function(a,b,c,d){var e=this.buildOptions("POST",a,b);return!d&&k&&j(a,"/query")?this.sendRequestAllowBulk(e,b,c):this.sendRequest(e,b,c)},put:function(a,b,c){var d=this.buildOptions("PUT",a,b);return this.sendRequest(d,b,c)},defaultOptions:function(){return{host:c.get("host"),port:c.get("port"),protocol:c.get("protocol")+":",headers:{"Content-Type":"application/json"}}},buildOptions:function(a,b){return d.extend({},this.defaultOptions(),{method:a,path:"/"+c.get("applicationId")+"/"+b})},sendRequest:function(a,b,c){var g={request:b};return f.get("auth_token")&&(g=e.generateRequest(g,a.path,a.method)),a.data=g,d.http.send(a,function(a){return c?c("undefined"==typeof a?{error:1}:a):void 0})},sendRequestAllowBulk:function(a,b,c){var d=this;"undefined"==typeof h&&(h=setTimeout(function(){h=void 0,d.sendBulkRequest()},250)),i&&(clearTimeout(i),i=void 0),i=setTimeout(function(){i=void 0,d.sendBulkRequest.call(d)},50),g.push({options:a,data:b,callback:c})},sendBulkRequest:function(){var a=[],b=[];for(var c in g){var d=e.generateGuid();a[c]=g[c],b.push(d)}g=[],h&&(clearTimeout(h),h=void 0),i&&(clearTimeout(i),i=void 0);var f={};if(a.length>1){var j=[];for(var k in b){var l=b[k],m=a[k];j.push({endpoint:m.options.path.split("/")[2],guid:l,request:m.data}),f[l]=m.callback}var n={requests:j},o=this.buildOptions("POST","bulk_query",n);this.sendRequest(o,n,function(b){if(b&&!b.error){var c;for(var d in b.response){var e=b.response[d],g=f[d],h={};g({error:!1,meta:h,response:e}),c=g}}else for(var i in a){var j=a[i];j.callback({error:1})}})}else if(a[0]){var p=a[0];this.sendRequest(p.options,p.data,p.callback)}}}},{10:10,32:32,39:39,7:7}],7:[function(a,b){"use strict";var c=a(39),d=a(10),e=a(32),f={},g=!1,h=function(a){f=a,g=!0,f.auth_token&&(e.set("auth_token",f.auth_token),e.set("user_id",f.id),e.set("session_id",f.session_id))},i=function(a,b,c){return a.authorization={user_id:e.get("user_id"),guid:this.generateGuid(),timestamp:Math.floor((new Date).getTime()/1e3),session_id:e.get("session_id")},a.authorization.signature=this.signRequest(a,b,c,e.get("auth_token")),a},j=function(){var a;return a=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)},a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()},k=function(b,c,d,e){var f;f=b.authorization.timestamp.toString(),f+=b.authorization.guid,f+=c,f+=d,b.request=this.sortHash(b.request);var g=a(2);return f+=g(b.request),this.signString(f,e)},l=function(a){if("[object Array]"===Object.prototype.toString.call(a)){var b=this;return a.map(function(a){return b.sortHash(a)})}var c=[],d={};for(var e in a)a.hasOwnProperty(e)&&c.push(e);c.sort();for(var f in c){var g=c[f],h=a[g],i="object"==typeof h&&void 0===h.length,j="[object Array]"===Object.prototype.toString.call(a);(i||j)&&(h=this.sortHash(h)),d[g]=h}return d},m=function(a,b){var d=c.hmac(a,b),e=c.bigInt.str2bigInt(d,16);return c.base58.encodeBigInt(e)},n=function(b){e.clear();var d={user:{email:b.email,password:b.password}};b.facebookId&&(d={user:{facebook_id:b.facebookId,facebook_token:b.facebookToken}});var g=new c.promise,i=a(6);return i.post("users/authenticate",d,function(a){return a===!1||a.error?g.send(!0):(h(a.response.users[0]),g.send(!1,f))}),g},o=function(){return f=void 0,g=!1,e.clear()},p=function(a){return a?void e.load(function(){a(e.get("auth_token")?e.get("user_id"):!1)}):e.get("auth_token")?e.get("user_id"):!1},q=function(b){if("undefined"==typeof b)return f;var c=this;if(g===!1)if("undefined"==typeof e.get("user_id"))b(!1);else{var d="users/"+e.get("user_id"),h=a(6);h.post(d,{},function(a){try{if("undefined"!=typeof a&&"undefined"!=typeof a.response&&a.response.users.length>0){var d=a.response.users[0];c.setCurrentUser(d),b(d)}else o(),b(!1)}catch(e){o(),b(!1)}})}else b(f)},r=function(a){var b="/"+d.get("applicationId");if(b+="/"+a.recordEndpoint,b+="/"+a.recordId,b+="/files",b+="/"+a.fileId,e.get("auth_token")){var c=Math.floor((new Date).getTime()/1e3/86400),f=e.get("session_id"),g=e.get("auth_token"),h=this.signString(c+a.fileId,g);b+="?timestamp="+c,b+="&session_id="+f,b+="&signature="+h}var i=d.get("protocol")+"://"+d.get("host");return 443!==d.get("port")&&80!==d.get("port")&&(i+=":"+d.get("port")),i+b};b.exports={generateRequest:i,generateGuid:j,generateSignedURLForFile:r,sortHash:l,signString:m,signRequest:k,Authenticate:n,RestoreSession:p,setCurrentUser:h,CurrentUser:q,Logout:o}},{10:10,2:2,32:32,39:39,6:6}],8:[function(a,b){"use strict";b.exports={Records:a(9),Auth:a(7),Api:a(6)}},{6:6,7:7,9:9}],9:[function(a,b){"use strict";var c=a(6);b.exports={write:function(a,b,c){return this.writeWithCustomPath(a,a,b,c)},trigger:function(a,b,d){var e=function(){return d({})};return c.put(a+"/"+b+"/trigger",{},e)},writeWithCustomPath:function(a,b,d,e){var f=d,g=function(a){var c;return c=a.error?void 0:a.response[b][0],e(c)};return d.id?c.put(a+"/"+d.id,f,g):c.post(a,f,g)},destroy:function(a,b,c){return this.destroyWithCustomPath(a,a,b,c)},destroyWithCustomPath:function(a,b,d,e){var f=function(a){var b={};return a.error||(b=!0),e(b)};return c.post(a+"/"+d+"/destroy",{},f)},query:function(a,b,d){var e={where:b},f=function(b){var c;return c=[],b.error||(c=b.response[a]),d(c,b.meta)};return c.post(a+"/query",e,f)}}},{6:6}],10:[function(a,b){"use strict";var c=a(36),d={},e={host:"localhost",protocol:"http",port:8080,applicationId:"000000000000000000000001"};d.currentConfiguration=e,d.Init=function(a){d.currentConfiguration=c(d.currentConfiguration,a)},d.get=function(a){return d.currentConfiguration[a]},b.exports=d},{36:36}],11:[function(a,b){var c=a(13),d=a(24),e={},f=0,g=function(a,b){return e[a+":"+b]},h=function(a,b,c){e[a+":"+b]=c},i=function(a,b,c){var d=g(a,c);return"undefined"==typeof d&&(d=this,h(a,c,d),this.endpoint=a,this.key=c,this._model=b),d};i.prototype._observers={},i.prototype._listeners=[],i.prototype._model=d,i.prototype.on=function(a,b){var d=this._observers[a],e=f++;if("undefined"==typeof d&&(d={}),d[e]=b,this._observers[a]=d,-1===this._listeners.indexOf(a)){this._listeners.push(a);var g=[this.endpoint,this.key,a].join(":");c.addListener(g,this)}return a+":"+e},i.prototype.removeWatcher=function(a){var b=a.split(":"),d=b[0],e=b[1],f=this._observers[d];if(delete f[e],0===Object.keys(f).length){delete this._observers[d];var g=this._listeners.indexOf(d);if(-1!==g){this._listeners.splice(g,1);var h=[this.endpoint,this.key,d].join(":");c.removeListener(h)}}},i.prototype._handle=function(a,b){var c=this;b=b.map(function(a){return new c._model(a,!0)});var d=b;1===b.length&&(d=b[0]);var e=a.split(":")[2];for(var f in this._observers[e]){var g=this._observers[e][f];g(d)}},b.exports=i},{13:13,24:24}],12:[function(a,b){b.exports=a(11)},{11:11}],13:[function(a,b){var c=a(8),d={},e=0,f=function(){g(),i()},g=function(){e++},h=function(a){for(var b in a.response){var c=a.response[b],e=d[b];"undefined"!=typeof e&&e._handle(b,c)}},i=function(){var a=Object.keys(d);if(0!==a.length){var b={subscriptions:a,timeout:30},f=e++;c.Api.post("subscriptions/poll",b,function(a){f===e-1&&setTimeout(function(){i()}),h(a)})}},j={addListener:function(a,b){d[a]=b,f()},removeListener:function(a){delete d[a]}};b.exports=j},{8:8}],14:[function(a,b){(function(c){"use strict";var d=a(39),e=a(8),f=function(a,b,c){var d;return d="string"==typeof a?{name:a}:a,this.isBlueprintObject=!0,this.endpoint=b.endpoint,d.record_id=b.get("id"),c&&void 0===d.size&&(d.size=c.size?c.size:c.length),this.data=c,this.object=d,this.record=b,this._shouldSave=!1,this._onSave=[],this};f.prototype.get=function(a){return this.object[a]},f.prototype.save=function(){if(this.object.record_id=this.record.get("id"),this.record.files[this.get("name")]=this,console.log(this),"undefined"==typeof this.object.record_id){this._shouldSave=!0;var a=new d.promise;return this._onSave.push(a),a}var a=this._upload();this._shouldSave=!1;var b=this;return a.then(function(a){for(var c in b._onSave)b._onSave[c].send(!1,a);b._onSave=[]}).fail(function(a){for(var c in b._onSave)b._onSave[c].send(a);b._onSave=[]}),a},f.prototype._upload=function(){var b=new d.promise,f=this,g=this.endpoint+"/"+this.getRecordId()+"/files";return this.record.files[this.get("name")]=this,e.Records.writeWithCustomPath(g,"files",{file:this.object},function(d){if(void 0===typeof d||!d||!d.upload_request)return b.send(!0);if(f.object=d,!f.data)return b.send(!1,f);var e=d.upload_request,g=e.params;g.file=f.data;var h;if("undefined"!=typeof c){var i=a(1);h=new i}else h=new i;for(var j in g){var k=g[j];h.append(j,k)}if("undefined"!=typeof c)c.navigator&&"ReactNative"===c.navigator.product&&fetch(e.url,{method:"POST",headers:{"Content-Type":"multipart/form-data"},body:h}).then(function(){b.send(!1,f)})["catch"](function(a){b.send(a)});else{var l;l=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),l.onreadystatechange=function(){return 4===l.readyState?b.send(!1,f):void 0},l.open("post",e.url),l.send(h)}}),b},f.prototype.destroy=function(){var a=new d.promise,b=this.endpoint+"/"+this.get("record_id")+"/files";return e.Records.destroyWithCustomPath(b,"files",this.get("id"),function(b){return void 0!==typeof b?a.send(!1):void 0}),a},f.prototype.getURL=function(){var a=this.get("presigned_url"),b=this.get("presigned_expiration")>new Date/1e3;if("object"==typeof this.data&&"undefined"!=typeof this.data.uri)return this.data.uri;if(a&&b)return this.get("presigned_url");var c={file_id:this.get("id"),record_id:this.get("record_id"),record_endpoint:this.endpoint};return e.Auth.generateSignedURLForFile(c)},f.prototype.getRecordId=function(){return this.record?this.record.get("id"):this.get("record_id")},b.exports=f}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{1:1,39:39,8:8}],15:[function(a,b){"use strict";var c=a(14);b.exports.File=c},{14:14}],16:[function(a,b){"use strict";var c=a(32),d=a(10),e=a(17);b.exports.PrivateGroup=function(){return new e({id:c.get("user_id")})},b.exports.PublicGroup=function(){return new e({id:d.get("applicationId")})},b.exports.GroupWithId=function(a){return new e({id:a})}},{10:10,17:17,32:32}],17:[function(a,b){"use strict";var c=a(8),d=a(39),e=function(a){return this.isBlueprintObject=!0,this.object=a,this.modifyUserMembership=function(a,b,c){var d=void 0,e=void 0,f=void 0,g=void 0;if(c?(d="add",e="remove"):(d="remove",e="add"),f=d+"_"+b+"_ids",g=e+"_"+b+"_ids","undefined"==typeof this.object[f]&&(this.object[f]=[]),-1===this.object[f].indexOf(a)&&this.object[f].push(a),"object"==typeof this.object[g]){var h=this.object[g].indexOf(a);if(-1!==h)return this.object[g].splice(h,1)}},this};e.prototype.get=function(a){return this.object[a]},e.prototype.set=function(a,b){this.object[a]=b},e.prototype.addUser=function(a){this.modifyUserMembership(a.get("id"),"user",!0)},e.prototype.removeUser=function(a){this.modifyUserMembership(a.get("id"),"user",!1)},e.prototype.addSuperUser=function(a){this.modifyUserMembership(a.get("id"),"super_user",!0)},e.prototype.removeSuperUser=function(a){this.modifyUserMembership(a.get("id"),"super_user",!1)},e.prototype.addUserWithId=function(a){this.modifyUserMembership(a,"user",!0)},e.prototype.removeUserWithId=function(a){this.modifyUserMembership(a,"user",!1)},e.prototype.addSuperUserWithId=function(a){this.modifyUserMembership(a,"super_user",!0)},e.prototype.removeSuperUserWithId=function(a){this.modifyUserMembership(a,"super_user",!1)},e.prototype.join=function(a){var b=new d.promise,e=this,f=function(a){return e.object=a,b.send(!1,e)};return c.Api.post("groups/"+this.get("id")+"/join",{group:a},function(a){var b=[];return a.error||(b=a.response.groups[0]),f(b)}),b},e.prototype.leave=function(){var a=new d.promise,b=this,e=function(c){return b.object=c,a.send(!1,b)};return c.Api.post("groups/"+this.get("id")+"/leave",{},function(a){var b;return b=[],a.error||(b=a.response.groups[0]),e(b)}),a},e.prototype.save=function(){var a=new d.promise,b=this,e={group:this.object};return this.object&&this.object.id&&(e.id=this.object.id),c.Records.write("groups",e,function(c){return void 0!==typeof c?(b.object=c,a.send(!1,b)):void 0}),a},e.prototype.destroy=function(){var a=new d.promise;return c.Api.post("groups/"+this.get("id")+"/destroy",{},function(b){return void 0!==typeof b?a.send(!1):void 0}),a},b.exports=e},{39:39,8:8}],18:[function(a,b){"use strict";var c=a(16),d=a(17);b.exports.Group=d,b.exports.PublicGroup=c.PublicGroup,b.exports.PrivateGroup=c.PrivateGroup,b.exports.GroupWithId=c.GroupWithId},{16:16,17:17}],19:[function(a,b){"use strict";var c=a(23),d=a(18),e=a(29),f=a(20),g={};g.Records={},g.Records.Record=c.Record,g.Records.Find=c.find.Find,g.Records.FindOne=c.find.FindOne,g.Groups={},g.Groups.CreateGroup=d.CreateGroup,g.Groups.PrivateGroup=d.PrivateGroup,g.Groups.PublicGroup=d.PublicGroup,g.Groups.GroupWithId=d.GroupWithId,g.Groups.Group=d.Group,g.Users={},g.Users.GetCurrentUser=e.GetCurrentUser,g.Users.Logout=e.Logout,g.Users.Register=e.Register,g.Users.Authenticate=e.Authenticate,g.Users.RestoreSession=e.RestoreSession,g.Models={},g.Models.Model=f,b.exports=g},{18:18,20:20,23:23,29:29}],20:[function(a,b){"use strict";b.exports=a(21)},{21:21}],21:[function(a,b){"use strict";var c=(a(39),a(12)),d=(a(13),{}),e=function(b,f,g){var h=!1,i=!1,j={};"function"==typeof f?h=f:"object"==typeof f&&(i=f),"function"==typeof g&&(h=g);var k=a(39),l=function(a){return h===!1?a:h.call(a)},m=function(c,d){var e,f=a(24);if("undefined"!=typeof c&&c.isBlueprintObject?e=c:d?e=new f(b,c,!0):(e=new f(b,{}),c&&e.update(c)),"undefined"!=typeof e.get("id")){var g=j[e.get("id")];if("undefined"!=typeof g)return g.update(e),g;j[e.get("id")]=this}this._record=e,this.isBlueprintObject=!0,this.isLoaded=!0;var h=function(a){return function(){return this._record[a].apply(this._record,arguments)}};for(var k in this._record){var l=k.toString();"undefined"==typeof this[l]&&"function"==typeof this._record[l]&&(this[l]=h(l))}this._keyMap={},this._associationMap={},i!==!1&&o.call(this,i)};l(m),m.find=function(c){var d=this,e=new k.promise;return a(22).Find(b,c).then(function(a){a=a.map(function(a){return new d(a)}),a.length>0&&Object.keys(a[0]._associationMap).length>0?d.bulkLoadAssociations(a).then(function(){e.send(void 0,a)})["catch"](function(a){console.error(a)}):e.send(void 0,a)}).fail(function(a){return e.send(a)}),e},m.findOne=function(c){var d=new k.promise,e=this;return a(22).FindOne(b,c).then(function(a){a=new e(a),Object.keys(a._associationMap).length>0?e.bulkLoadAssociations([a]).then(function(){d.send(void 0,a)})["catch"](function(a){console.error(a)}):d.send(void 0,a)}).fail(function(a){return d.send(a)}),d};var n=function(a,b){var c,d=this;return c=function(e){var f=d["_"+a+"_loaded"];"undefined"==typeof e&&(e={});var g=d["_"+a];if(!f||e.refresh===!0){var h=d.loadAssociation(b);return h.refresh=function(){return h},h}var h=new k.promise;return h.send(!1,g),h.refresh=function(){return c({refresh:!0})},h}},o=function(a){for(var b in a){var c=a[b];if("function"==typeof c&&(c={type:c}),"undefined"!=typeof c.association)c.association.key=b,this._associationMap[b]=c.association,this[b]=n.call(this,b,c.association);else{if("undefined"!=typeof this[b])throw"Key cannot be `"+b+"`, it is an internal blueprint name";var d=[b];c.key?d=[c.key]:c["protected"]&&(d=["protected"].concat(b)),d=d.join("."),c.key=d,this._keyMap[b]=c,p.call(this,b,!0)}}},p=function(a,b){var c=this._keyMap[a];if("object"==typeof c){var d;d=b||"undefined"==typeof this[a]?this._record.get(c.key):this[a],"undefined"==typeof d&&(d=c["default"]);var e=!0,f=!1;switch(c.type){case String:f="string";break;case Number:f="number";break;case Object:f="object";break;case Boolean:f="boolean"}f&&"undefined"!=typeof d&&(e=typeof d===f),e?(this[a]=d,this._record.set(c.key,d)):console.error("Type for `"+a+"` is `"+typeof d+"` (`"+d+"`) not `"+f+"`")}};return m.prototype.set=function(a,b){var c=this._record.set(a,b);for(var d in this._keyMap){var e=this._keyMap[d];if(e.key===a){p.call(this,a,!0);break}}return c},m.prototype.get=function(a){for(var b in this._keyMap){var c=this._keyMap[b];if(c.key===a){p.call(this,a);break}}return this._record.get(a)},m.prototype.update=function(a){var b;return b=this._record.update(a),this.sync(),b},m.prototype.save=function(){return this.sync(),this._record.save()},m.prototype.sync=function(){for(var a in this._keyMap)p.call(this,a)},m.prototype.revert=function(){for(var a in this._keyMap)p.call(this,a,!0)},m.prototype.associationQueries=function(a){var b={};for(var c in this._associationMap){var d=this._associationMap[c],e=d.endpoint,f={query:d.scope(this),multi:d.multi,key:c},g=this["_"+c+"_loaded"]===!0;(!g&&d.autoload||a)&&("undefined"==typeof b[e]&&(b[e]=[]),b[e].push(f),this["_"+c+"_loaded"]=!1,this["_"+c]=d.multi?[]:void 0)}return b},m.prototype.loadAssociation=function(a){var b,c=new k.promise,f=this.associationQueries(!0),g=a.endpoint,h=a.key;for(var i in f[g]){var j=f[g][i];if(j.key===h){b=j;break}}var l=d[g];"undefined"==typeof l&&(l=new e(g));var m=this;return l.find(b.query).then(function(b){m["_"+a.key]=a.multi?b:b[0],m["_"+a.key+"_loaded"]=!0,c.send(!1,m["_"+a.key])})["catch"](function(a){c.send(a)}),c},m.prototype.flatten=function(a){var b=new k.promise,c=this.constructor.flatStructure(a),d=0,e=0,f=function(){e++,e===d&&b.send(!1,c)},g=function(a){return d++,function(b){c[a]=b,f()}};for(var h in i){var j=i[h];"undefined"==typeof j.association?(c[a][h]=this[h],c[a].record=this):this[h]().then(g(h))["catch"](f)}return e===d&&b.send(!1,c),b},m.bulkLoadAssociations=function(a,b){var c={},f=new k.promise,g=0,h=0,i=a.map(function(a){var d=a.associationQueries(b);for(var e in d){var f=d[e];"undefined"==typeof c[e]&&(c[e]=[]),c[e]=c[e].concat(f)}return{record:a,queries:d}});if(0===Object.keys(c).length)return f.send(!1,!0),f;var j={};for(var l in c){j[l]={};var m=c[l];for(var n in m){var o=m[n],p=Object.keys(o.query).join(","),q=Object.values(o.query);"undefined"==typeof j[l]&&(j[l]={}),"undefined"==typeof j[l][p]&&(j[l][p]=[]),j[l][p].push(q)}}var r={};for(var l in j){var s=j[l],c=[];for(var p in s){p=p.split(",");var o={};for(var n in p){var t=p[n];o[t]={$in:[]}}var q=s[p];for(var u in q){var v=q[u];for(var w in v){var x=v[w],t=p[w];-1===o[t].$in.indexOf(x)&&o[t].$in.push(x)}}for(var t in o){var x=o[t];1===x.$in.length&&(o[t]=x.$in[0])}c.push(o)}r[l]=1===c.length?c[n]:{$or:c}}var y=function(a,b){for(var c in i){var d=i[c],e=d.record,f=d.queries[b];if("object"==typeof f&&f.length>0){for(var c in f){var g=f[c],h=g.query;for(var c in a){var j=a[c],k=!0;for(var l in h){var m=h[l];if(k=m===j.get(l),!k)break}k&&(g.multi?e["_"+g.key].push(j):e["_"+g.key]=j)}}e["_"+g.key+"_loaded"]=!0}}};for(var l in r){var z=d[l];"undefined"==typeof z&&(z=new e(l));var o=r[l],A=this;g++,z.find(o).then(function(a){a.length>0&&y.call(A,a,a[0]._record.endpoint),h++,h===g&&f.send(!1,!0)})["catch"](function(a){h++,console.error(a,o,l,A,"!!!")})}return f},d[b]=m,m.register=function(){d[b]=this},m.flatStructure=function(a){var b={};if(b[a]={},i!==!1)for(var c in i){var d=i[c].association;"undefined"!=typeof d&&(b[c]=d.multi?[]:{})}return b},m.prototype.on=function(a,d){var e=new c(b,this.constructor,this.get("id"));return e.on(a,d)},m.watch=function(a){var d=new c(b,this,a);return d},m};b.exports=e},{12:12,13:13,22:22,24:24,39:39}],22:[function(a,b){"use strict";var c=a(24),d=a(39),e=a(8),f=function(a,b){var f=new d.promise;return e.Records.query(a,b,function(b,d){var e=[];if(b)for(var g=0;g<b.length;){var h=b[g];h=new c(a,h,!0),e.push(h),g++}f.send(!1,e,d)}),f},g=function(a,b){var f=new d.promise;return b.$limit=1,e.Records.query(a,b,function(b,d){var e=null;"undefined"!=typeof b&&null!==b&&"undefined"!=typeof b[0]&&"undefined"!=typeof b[0].content?(e=new c(a,b[0],!0),f.send(!1,e,d)):f.send(!0)}),f};b.exports.Find=f,b.exports.FindOne=g},{24:24,39:39,8:8}],23:[function(a,b){"use strict";var c={};c.find=a(22),c.Record=a(24),b.exports=c},{22:22,24:24}],24:[function(a,b){"use strict";var c=a(39),d=a(8),e=a(32),f=function(b,c,d){this.isBlueprintObject=!0,this.noContentRoot=!1,this.endpoint=b,this.isLoaded=!0,d?(this.object="undefined"!=typeof c?c:{},"undefined"==typeof this.object.content&&(this.object.content={}),this._serverObjectContent=JSON.stringify(c.content)):(this.object={},this._serverObjectContent=JSON.stringify(c),this.object.content=c),this.files={},"undefined"==typeof this.object.permissions&&(this.object.permissions={});var f=["read","write","destroy"];for(var g in f)if(!isNaN(parseInt(g))){var h=f[g]+"_group_ids";"undefined"==typeof this.object.permissions[h]&&(this.object.permissions[h]=[])}if("undefined"!=typeof this.object.files)for(var i in this.object.files){var j=this.object.files[i],k=a(14);this.files[j.name]=new k(j,this)}return"undefined"==typeof this.object.created_by&&(this.object.created_by=e.get("user_id")),"undefined"==typeof this.object.created_at&&(this.object.created_at=new Date/1e3,this.object.updated_at=new Date/1e3),this};f.prototype.set=function(a,b){var c=a.split(".");if(c.length>1){for(var d=this.object.content,e=0;e<c.length;e++){var a=c[e];e===c.length-1?d[a]=b:d="undefined"==typeof d[a]?d[a]={}:d[a]}return b}this.object.content[a]=b},f.prototype.get=function(a){var b=a.split(".");if(b.length>1){for(var c=this.object.content,d=0;d<b.length;d++){if("undefined"==typeof c||"undefined"==typeof c[a]){c=void 0;break}var a=b[d];c=c[a]}return c}if("id"===a)return this.object[a];var c=this.object.content[a];return c||(c=this.object[a]),c},f.prototype.addGroup=function(a,b){var c=b.get("id"),d=a+"_group_ids";this.object.permissions[d].push(c)},f.prototype.removeGroup=function(a,b){var c=b.get("id"),d=a+"_group_ids";if("object"==typeof this.object.permissions&&"object"==typeof this.object.permissions[d]){var e=this.object.permissions[d].indexOf(c);if(-1!==e)return this.object.permissions[d].splice(e,1)}},f.prototype.addReadGroup=function(a){return this.addGroup("read",a)},f.prototype.addWriteGroup=function(a){return this.addGroup("write",a)},f.prototype.addDestroyGroup=function(a){return this.addGroup("destroy",a)},f.prototype.removeReadGroup=function(a){return this.removeGroup("read",a)},f.prototype.removeWriteGroup=function(a){return this.removeGroup("write",a)},f.prototype.removeDestroyGroup=function(a){return this.removeGroup("destroy",a)},f.prototype.createFile=function(b,c){var d=a(15);return new d.File(b,this,c)},f.prototype.getFileWithName=function(a){return this.files[a]},f.prototype.save=function(){var a=new c.promise,b=this,e={id:this.object.id,content:this.object.content,permissions:this.object.permissions};this.object.user&&(e.user=this.object.user),"undefined"!=typeof this.object.subscription_keys&&(e.subscription_keys=this.object.subscription_keys),"undefined"==typeof this.object.id&&(this.object.created_at=new Date/1e3),this.object.updated_at=new Date/1e3;var f=0,g=function(a,c){var d=a[f];console.log(d,f),"undefined"==typeof d?c.send(!1,b):d.save().then(function(){g(a,c,f++)}).fail(function(){g(a,c,f++)})};return d.Records.write(this.endpoint,e,function(c){if("undefined"==typeof c)a.send(!0,b.object);else{b.object=c,b._serverObjectContent=JSON.stringify(c.content);var d=Object.values(b.files).filter(function(a){return a._shouldSave});0===d.length?a.send(!1,b):g(d,a)}}),a},f.prototype.destroy=function(){var a=new c.promise;return d.Records.destroy(this.endpoint,this.get("id"),function(b){a.send("undefined"==typeof b?!0:!1)}),a},f.prototype.trigger=function(){var a=new c.promise;return d.Records.trigger(this.endpoint,this.get("id"),function(b){a.send("undefined"==typeof b?!0:!1)}),a},f.prototype.didChange=function(){var a=JSON.stringify(this.object.content);return a!==this._serverObjectContent},f.prototype.update=function(a){var b=[];if(a.isBlueprintObject){var a=a.object,c=function(a,b){Array.isArray(a)&&!Array.isArray(b)?b=[]:"object"==typeof a&&"object"!=typeof b&&(b={});for(var d in a){var e=a[d],f=typeof e;b[d]="object"===f?c(a[d],b[d]):e}return b};this.object.created_at=-1,c(a,this.object)}else for(var d in a){var e=a[d];b.push(this.set(d,e))}return b},f.prototype.addSubscriptionKey=function(a){var b=this.getSubscriptionKeys();-1===b.indexOf(a)&&b.push(a)},f.prototype.removeSubscriptionKey=function(a){var b=this.getSubscriptionKeys(),c=b.indexOf(a);-1!==c&&b.splice(c,1)},f.prototype.getSubscriptionKeys=function(){var a=this.object.subscription_keys;return("undefined"==typeof this.object.subscription_keys||null===this.object.subscription_keys)&&(a=[],this.object.subscription_keys=a),a},f.extend=function(a){return a.prototype=c.extend(this.prototype,a.prototype),a},b.exports=f},{14:14,15:15,32:32,39:39,8:8}],25:[function(a,b){"use strict";var c=a(7),d=a(27),e=function(a){var b=c.Authenticate(a);return b.then(function(a){d.setCachedUser(a)}),b},f=function(a){if(!a){var b=c.RestoreSession();return b&&d.GetCurrentUser(),b}c.RestoreSession(function(b){b&&d.GetCurrentUser(),a(b)})};b.exports={Authenticate:e,RestoreSession:f}},{27:27,7:7}],26:[function(a,b){"use strict";var c=a(30),d=a(7),e=a(39),f=a(27),g=function(b){var g=a(27);g.Logout();var h=new e.promise,i=new c({user:b});return i.save().then(function(a){d.setCurrentUser(a.object),f.setCachedUser(a.object),h.send(!1,a)}).fail(function(a){h.send(a)}),h};b.exports={Register:g}},{27:27,30:30,39:39,7:7}],27:[function(a,b){"use strict";var c,d,e,f=a(8),g=a(39),h=a(32),i=function(b){var d=a(30);c=new d(b),h.set("cached_user",b)},j=function(a){if(c&&!a){var b=new g.promise;return b.send(!1,c),b}if(e&&!a)return e;e=new g.promise;var d=h.get("cached_user");return"undefined"==typeof d||a?f.Auth.CurrentUser(function(a){return a?(i(a),e.send(!1,c)):e.send(!0)}):(i(d),e.send(!1,c)),e},k=function(){c=void 0,d=!1,f.Auth.Logout()};b.exports={GetCurrentUser:j,Logout:k,setCachedUser:i}},{30:30,32:32,39:39,8:8}],28:[function(a,b){"use strict";var c=a(8),d=a(39),e=a(30);b.exports=function(a){var b=new d.promise,f="users/"+a;return c.Api.post(f,{id:a},function(a){var c=a.response.users[0],d=new e(c);b.send(!1,d)},!0),b}},{30:30,39:39,8:8}],29:[function(a,b){"use strict";var c=a(26),d=a(27),e=a(28),f=a(25),g=a(30);b.exports={User:g,Register:c.Register,GetCurrentUser:d.GetCurrentUser,Logout:d.Logout,Authenticate:f.Authenticate,RestoreSession:f.RestoreSession,FindUserById:e}},{25:25,26:26,27:27,28:28,30:30}],30:[function(a,b){"use strict";var c=a(39),d=a(8),e=a(27),f=function(a){return this.isBlueprintObject=!0,this.endpoint="users",this.object=a,this};f.prototype.get=function(a){return this.object[a]},f.prototype.destroy=function(){var a=new c.promise,b=this.get("id");return d.Records.destroy(this.endpoint,b,function(c){
c?e.GetCurrentUser().then(function(c){c.get("id")===b&&e.Logout(),a.send(!1)}).fail(function(){a.send(!1)}):a.send(!0)}),a},f.prototype.save=function(){var a=new c.promise,b=this,e={id:this.object.id,content:this.object.content,permissions:this.object.permissions};return this.object.user&&(e.user=this.object.user),d.Records.write(this.endpoint,e,function(c){"undefined"==typeof c?a.send(!0,b.object):(b.object=c,a.send(!1,b))}),a},b.exports=f},{27:27,39:39,8:8}],31:[function(a,b){(function(c){"use strict";var d=a(19),e=a(10),f=a(39),g={};if(g.init=e.Init,g.publicGroup=d.Groups.PublicGroup,g.privateGroup=d.Groups.PrivateGroup,g.createGroup=d.Groups.CreateGroup,g.groupWithId=d.Groups.GroupWithId,g.Group=d.Groups.Group,g.Data={},g.Data.Record=d.Records.Record,g.Data.find=d.Records.Find,g.Data.findOne=d.Records.FindOne,g.Model=d.Models.Model,g.getCurrentUser=d.Users.GetCurrentUser,g.register=d.Users.Register,g.authenticate=d.Users.Authenticate,g.restoreSession=d.Users.RestoreSession,g.logout=d.Users.Logout,g.Promise=f.promise,"undefined"!=typeof c&&c.navigator&&"ReactNative"===c.navigator.product)b.exports=g;else if("undefined"!=typeof window){var h="undefined"!=typeof b;window.Blueprint!==!0&&h?b.exports=g:window.Blueprint=g}else b.exports=g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{10:10,19:19,39:39}],32:[function(a,b){(function(c){"use strict";var d,e={};"undefined"!=typeof c&&c.navigator&&"ReactNative"===c.navigator.product&&(d=a(33));var f=function(a){if("undefined"!=typeof c&&c.navigator&&"ReactNative"===c.navigator.product)d.getItem("@BlueprintStore:APISession",function(b,c){c&&(e=JSON.parse(c)),a()});else if("undefined"!=typeof window){var b=window.localStorage.getItem("__api_session");b&&(e=JSON.parse(b)),a()}else a()},g=function(){var a=JSON.stringify(e);"undefined"!=typeof c&&c.navigator&&"ReactNative"===c.navigator.product?d.setItem("@BlueprintStore:APISession",a):"undefined"!=typeof window&&window.localStorage.setItem("__api_session",a)},h=function(){e={},"undefined"!=typeof c&&c.navigator&&"ReactNative"===c.navigator.product?d.removeItem("@BlueprintStore:APISession"):"undefined"!=typeof window&&window.localStorage.removeItem("__api_session")};b.exports={load:function(a){f(function(){a&&a()})},get:function(a){return e[a]},set:function(a,b){e[a]=b,g()},clear:function(){h()}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{33:33}],33:[function(a,b){b.exports={}},{}],34:[function(a,b){"use strict";b.exports=function(b){var c=b||"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ",d=c.length;return{encodeBigInt:function(b){for(var e=a(35),f=Array(b.length),g=e.int2bigInt(d,10),h="";parseInt(e.bigInt2str(b,10));)e.divide(b,g,b,f),h=c[parseInt(e.bigInt2str(f,10))].toString()+h;return h}}}()},{35:35}],35:[function(a,b){function c(a){return a[a.length-1]>>bpe-1&1}function d(a,b,c){var d,e=a.length,f=b.length,g=f>e+c?e+c:f;for(d=f-1-c;e>d&&d>=0;d++)if(a[d]>0)return 1;for(d=e-1+c;f>d;d++)if(b[d]>0)return 0;for(d=g-1;d>=c;d--){if(a[d-c]>b[d])return 1;if(a[d-c]<b[d])return 0}return 0}function e(a,b,e,f){var g,h,i,j,m,p,q,t;for(k(f,a),h=b.length;0===b[h-1];h--);for(t=b[h-1],q=0;t;q++)t>>=1;for(q=bpe-q,o(b,q),o(f,q),g=f.length;0===f[g-1]&&g>h;g--);for(l(e,0);!d(b,f,g-h);)s(f,b,g-h),e[g-h]++;for(i=g-1;i>=h;i--){for(e[i-h]=f[i]===b[h-1]?mask:Math.floor((f[i]*radix+f[i-1])/b[h-1]);m=(h>1?b[h-2]:0)*e[i-h],p=m>>bpe,m&=mask,j=p+e[i-h]*b[h-1],p=j>>bpe,j&=mask,p===f[i]?j===f[i-1]?m>(i>1?f[i-2]:0):j>f[i-1]:p>f[i];)e[i-h]--;r(f,b,-e[i-h],i-h),c(f)&&(addShift_(f,b,i-h),e[i-h]--)}n(b,q),n(f,q)}function f(a,b,c){var d;d=Math.ceil(b/bpe)+1,d=c>d?c:d;var e=new Array(d);return l(e,a),e}function g(a,b,c){var d,e,g,h,i,j=a.length;if(-1===b){for(g=new Array(0);;){for(h=new Array(g.length+1),e=0;e<g.length;e++)h[e+1]=g[e];if(h[0]=parseInt(a,10),g=h,d=a.indexOf(",",0),1>d)break;if(a=a.substring(d+1),0===a.length)break}return g.length<c?(h=new Array(c),k(h,g),h):g}for(g=f(0,b*j,0),e=0;j>e&&(d=digitsStr.indexOf(a.substring(e,e+1),0),36>=b&&d>=36&&(d-=26),!(d>=b||0>d));e++)p(g,b),m(g,d);for(j=g.length;j>0&&!g[j-1];j--);for(j=c>j+1?c:j+1,h=new Array(j),i=j<g.length?j:g.length,e=0;i>e;e++)h[e]=g[e];for(;j>e;e++)h[e]=0;return h}function h(a){var b;for(b=0;b<a.length;b++)if(a[b])return 0;return 1}function i(a,b){var c,d,e="";if(s6.length!==a.length?s6=j(a):k(s6,a),-1===b){for(c=a.length-1;c>0;c--)e+=a[c]+",";e+=a[0]}else for(;!h(s6);)d=q(s6,b),e=digitsStr.substring(d,d+1)+e;return 0===e.length&&(e="0"),e}function j(a){var b=new Array(a.length);return k(b,a),b}function k(a,b){var c,d=a.length<b.length?a.length:b.length;for(c=0;d>c;c++)a[c]=b[c];for(c=d;c<a.length;c++)a[c]=0}function l(a,b){var c,d;for(d=b,c=0;c<a.length;c++)a[c]=d&mask,d>>=bpe}function m(a,b){var c,d,e,f;for(a[0]+=b,d=a.length,e=0,c=0;d>c;c++)if(e+=a[c],f=0,0>e&&(f=-(e>>bpe),e+=f*radix),a[c]=e&mask,e=(e>>bpe)-f,!e)return}function n(a,b){var c,d=Math.floor(b/bpe);if(d){for(c=0;c<a.length-d;c++)a[c]=a[c+d];for(;c<a.length;c++)a[c]=0;b%=bpe}for(c=0;c<a.length-1;c++)a[c]=mask&(a[c+1]<<bpe-b|a[c]>>b);a[c]>>=b}function o(a,b){var c,d=Math.floor(b/bpe);if(d){for(c=a.length;c>=d;c--)a[c]=a[c-d];for(;c>=0;c--)a[c]=0;b%=bpe}if(b){for(c=a.length-1;c>0;c--)a[c]=mask&(a[c]<<b|a[c-1]>>bpe-b);a[c]=mask&a[c]<<b}}function p(a,b){var c,d,e,f;if(b)for(d=a.length,e=0,c=0;d>c;c++)e+=a[c]*b,f=0,0>e&&(f=-(e>>bpe),e+=f*radix),a[c]=e&mask,e=(e>>bpe)-f}function q(a,b){var c,d,e=0;for(c=a.length-1;c>=0;c--)d=e*radix+a[c],a[c]=Math.floor(d/b),e=d%b;return e}function r(a,b,c,d){var e,f,g,h;for(g=a.length<d+b.length?a.length:d+b.length,h=a.length,f=0,e=d;g>e;e++)f+=a[e]+c*b[e-d],a[e]=f&mask,f>>=bpe;for(e=g;f&&h>e;e++)f+=a[e],a[e]=f&mask,f>>=bpe}function s(a,b,c){var d,e,f,g;for(f=a.length<c+b.length?a.length:c+b.length,g=a.length,e=0,d=c;f>d;d++)e+=a[d]-b[d-c],a[d]=e&mask,e>>=bpe;for(d=f;e&&g>d;d++)e+=a[d],a[d]=e&mask,e>>=bpe}for(digitsStr="0123456789abcdef",bpe=0;1<<bpe+1>1<<bpe;bpe++);bpe>>=1,mask=(1<<bpe)-1,radix=(1<<bpe)+1,s6=new Array(0),b.exports={divide:e,int2bigInt:f,str2bigInt:g,bigInt2str:i}},{}],36:[function(a,b){"use strict";b.exports=function(a){var b=[].slice.call(arguments,1);return b.forEach(function(b){for(var c in b)a[c]=b[c]}),a}},{}],37:[function(a,b){b.exports=function(a,b){var c=c||function(a,b){var c={},d=c.lib={},e=function(){},f=d.Base={extend:function(a){e.prototype=this;var b=new e;return a&&b.mixIn(a),b.hasOwnProperty("init")||(b.init=function(){b.$super.init.apply(this,arguments)}),b.init.prototype=b,b.$super=this,b},create:function(){var a=this.extend();return a.init.apply(a,arguments),a},init:function(){},mixIn:function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},g=d.WordArray=f.extend({init:function(a,c){a=this.words=a||[],this.sigBytes=c!==b?c:4*a.length},toString:function(a){return(a||i).stringify(this)},concat:function(a){var b=this.words,c=a.words,d=this.sigBytes;if(a=a.sigBytes,this.clamp(),d%4)for(var e=0;a>e;e++)b[d+e>>>2]|=(c[e>>>2]>>>24-8*(e%4)&255)<<24-8*((d+e)%4);else if(65535<c.length)for(e=0;a>e;e+=4)b[d+e>>>2]=c[e>>>2];else b.push.apply(b,c);return this.sigBytes+=a,this},clamp:function(){var b=this.words,c=this.sigBytes;b[c>>>2]&=4294967295<<32-8*(c%4),b.length=a.ceil(c/4)},clone:function(){var a=f.clone.call(this);return a.words=this.words.slice(0),a},random:function(b){for(var c=[],d=0;b>d;d+=4)c.push(4294967296*a.random()|0);return new g.init(c,b)}}),h=c.enc={},i=h.Hex={stringify:function(a){var b=a.words;a=a.sigBytes;for(var c=[],d=0;a>d;d++){var e=b[d>>>2]>>>24-8*(d%4)&255;c.push((e>>>4).toString(16)),c.push((15&e).toString(16))}return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;b>d;d+=2)c[d>>>3]|=parseInt(a.substr(d,2),16)<<24-4*(d%8);return new g.init(c,b/2)}},j=h.Latin1={stringify:function(a){var b=a.words;a=a.sigBytes;for(var c=[],d=0;a>d;d++)c.push(String.fromCharCode(b[d>>>2]>>>24-8*(d%4)&255));return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;b>d;d++)c[d>>>2]|=(255&a.charCodeAt(d))<<24-8*(d%4);return new g.init(c,b)}},k=h.Utf8={stringify:function(a){try{return decodeURIComponent(escape(j.stringify(a)))}catch(b){throw Error("Malformed UTF-8 data")}},parse:function(a){return j.parse(unescape(encodeURIComponent(a)))}},l=d.BufferedBlockAlgorithm=f.extend({reset:function(){this._data=new g.init,this._nDataBytes=0},_append:function(a){"string"==typeof a&&(a=k.parse(a)),this._data.concat(a),this._nDataBytes+=a.sigBytes},_process:function(b){var c=this._data,d=c.words,e=c.sigBytes,f=this.blockSize,h=e/(4*f),h=b?a.ceil(h):a.max((0|h)-this._minBufferSize,0);if(b=h*f,e=a.min(4*b,e),b){for(var i=0;b>i;i+=f)this._doProcessBlock(d,i);i=d.splice(0,b),c.sigBytes-=e}return new g.init(i,e)},clone:function(){var a=f.clone.call(this);return a._data=this._data.clone(),a},_minBufferSize:0});d.Hasher=l.extend({cfg:f.extend(),init:function(a){this.cfg=this.cfg.extend(a),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(a){return this._append(a),this._process(),this},finalize:function(a){return a&&this._append(a),this._doFinalize()},blockSize:16,_createHelper:function(a){return function(b,c){return new a.init(c).finalize(b)}},_createHmacHelper:function(a){return function(b,c){return new m.HMAC.init(a,c).finalize(b)}}});var m=c.algo={};return c}(Math);return function(a){for(var b=c,d=b.lib,e=d.WordArray,f=d.Hasher,d=b.algo,g=[],h=[],i=function(a){return 4294967296*(a-(0|a))|0},j=2,k=0;64>k;){var l;a:{l=j;for(var m=a.sqrt(l),n=2;m>=n;n++)if(!(l%n)){l=!1;break a}l=!0}l&&(8>k&&(g[k]=i(a.pow(j,.5))),h[k]=i(a.pow(j,1/3)),k++),j++}var o=[],d=d.SHA256=f.extend({_doReset:function(){this._hash=new e.init(g.slice(0))},_doProcessBlock:function(a,b){for(var c=this._hash.words,d=c[0],e=c[1],f=c[2],g=c[3],i=c[4],j=c[5],k=c[6],l=c[7],m=0;64>m;m++){if(16>m)o[m]=0|a[b+m];else{var n=o[m-15],p=o[m-2];o[m]=((n<<25|n>>>7)^(n<<14|n>>>18)^n>>>3)+o[m-7]+((p<<15|p>>>17)^(p<<13|p>>>19)^p>>>10)+o[m-16]}n=l+((i<<26|i>>>6)^(i<<21|i>>>11)^(i<<7|i>>>25))+(i&j^~i&k)+h[m]+o[m],p=((d<<30|d>>>2)^(d<<19|d>>>13)^(d<<10|d>>>22))+(d&e^d&f^e&f),l=k,k=j,j=i,i=g+n|0,g=f,f=e,e=d,d=n+p|0}c[0]=c[0]+d|0,c[1]=c[1]+e|0,c[2]=c[2]+f|0,c[3]=c[3]+g|0,c[4]=c[4]+i|0,c[5]=c[5]+j|0,c[6]=c[6]+k|0,c[7]=c[7]+l|0},_doFinalize:function(){var b=this._data,c=b.words,d=8*this._nDataBytes,e=8*b.sigBytes;return c[e>>>5]|=128<<24-e%32,c[(e+64>>>9<<4)+14]=a.floor(d/4294967296),c[(e+64>>>9<<4)+15]=d,b.sigBytes=4*c.length,this._process(),this._hash},clone:function(){var a=f.clone.call(this);return a._hash=this._hash.clone(),a}});b.SHA256=f._createHelper(d),b.HmacSHA256=f._createHmacHelper(d)}(Math),function(){var a=c,b=a.enc.Utf8;a.algo.HMAC=a.lib.Base.extend({init:function(a,c){a=this._hasher=new a.init,"string"==typeof c&&(c=b.parse(c));var d=a.blockSize,e=4*d;c.sigBytes>e&&(c=a.finalize(c)),c.clamp();for(var f=this._oKey=c.clone(),g=this._iKey=c.clone(),h=f.words,i=g.words,j=0;d>j;j++)h[j]^=1549556828,i[j]^=909522486;f.sigBytes=g.sigBytes=e,this.reset()},reset:function(){var a=this._hasher;a.reset(),a.update(this._iKey)},update:function(a){return this._hasher.update(a),this},finalize:function(a){var b=this._hasher;return a=b.finalize(a),b.reset(),b.finalize(this._oKey.clone().concat(a))}})}(),c.HmacSHA256(a,b).toString()}},{}],38:[function(a,b){(function(c){"use strict";b.exports={send:function(b,d,e){function f(){e>=10||"POST"!==b.method||-1===b.path.indexOf("/query")&&0!==b.path.indexOf("/users")?(console.log("[RECOVERY] RECOVERY FAILED",e,b,i),d()):e>5?setTimeout(function(){console.log("[RECOVERY] Request Failed attempting recovery in ",Math.pow(3,e)," ms",i),k.send(b,d,e+1)},Math.pow(3,e)):(console.log("[RECOVERY] Request Failed attempting recovery",i),k.send(b,d,e+1))}function g(a){if(!l)if(l=!0,null===a||"undefined"==typeof a||""===a)f();else try{"string"==typeof a&&(a=JSON.parse(a)),a.error?f():d(a)}catch(b){console.log("Failure upon handle callback",b),f()}}var h,i=this.buildUrl(b),j=JSON.stringify(b.data);"undefined"==typeof e&&(e=0);var k=this,l=!1,m="undefined"!=typeof c&&c.navigator&&"ReactNative"===c.navigator.product,n=!m&&"undefined"!=typeof c&&"undefined"==typeof c.navigator;n?a("./node_request.js")(b,j,g):(h=m?new XMLHttpRequest:window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),h.onreadystatechange=function(){4===h.readyState&&g(h.responseText)},h.onerror=function(){g()},h.open(b.method,i),h.setRequestHeader("Content-type","application/json"),h.send(j))},buildUrl:function(a){var b=a.protocol;return b+="//",b+=a.host,b+=":"+a.port,b+=a.path}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{undefined:void 0}],39:[function(a,b){"use strict";b.exports={base58:a(34),hmac:a(37),bigInt:a(35),extend:a(36),http:a(38),promise:a(40)}},{34:34,35:35,36:36,37:37,38:38,40:40}],40:[function(a,b){"use strict";var c;c=function(){return this.sent=!1,this.error=!1,this.data=void 0,this.meta=void 0,this.successCallbacks=[],this.errorCallbacks=[],this.send=function(a,b,c){this.error=a,this.data=b,this.sent=!0,c&&(this.meta=c);var d=this.successCallbacks,e=this.data;this.error&&(d=this.errorCallbacks,e=this.error);var f=[];for(var g in d)try{f.push(d[g](e,this.meta))}catch(h){console.log("Failure upon send",h)}return f},this.fail=function(a){if(this.errorCallbacks.push(a),this.sent===!0&&this.error)try{a(this.data,this.meta)}catch(b){console.log("Failure upon send",b)}return this},this["catch"]=this.fail,this.then=function(a,b){if(this.successCallbacks.push(a),b&&this.errorCallbacks.push(b),this.sent===!0)if(this.data&&!this.error)try{var c=a(this.data,this.meta);"undefined"!=typeof c&&(this.data=c)}catch(d){console.log("Failure upon send",d)}else if(b)try{b(this.error,this.meta)}catch(d){console.log("Failure upon send",d)}return this},this},b.exports=c},{}]},{},[31]);